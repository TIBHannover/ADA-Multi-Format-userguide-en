\documentclass{article}

\usepackage{hyperref}
\usepackage{caption}
\usepackage{graphicx}
                
\usepackage{calc}
                
\newlength{\imgwidth}
                
\newcommand\scaledgraphics[2]{%
                
\settowidth{\imgwidth}{\includegraphics{#1}}%
                
\setlength{\imgwidth}{\minof{\imgwidth}{#2\textwidth}}%
                
\includegraphics[width=\imgwidth,height=\textheight,keepaspectratio]{#1}%
                
}
            
\begin{document}

\title{StepÂ 1: Make a Publication Git Repository and Website}

\maketitle


The Git repository (repo) is the storage location of your outputted publication and which is on the web. A presentation website can also be made from the repo with a selected content being made public. When your repo is updated, so is your website.

\begin{figure}
\scaledgraphics{d80dc5a5-d385-4a3b-a03a-a752ff2686c9.png}{1}
\caption*{Photo 1: Example Git repository (repo)}\label{F55869431}
\end{figure}

\begin{figure}
\scaledgraphics{8b26a358-6fdd-41c6-91aa-2a1fbbf977cc.png}{1}
\caption*{Photo 2: Example publication website made with GitHub/Lab Pages which is a presentation of the repository above. The arrow shows the links to the other available formats}\label{F88093361}
\end{figure}


\subsection{About Git}\label{H4018151}



The repository uses \href{https://git-scm.com/}{Git}\footnote{Git is open-source software that both \href{https://github.com/}{GitHub} and \href{https://about.gitlab.com/}{GitLab} are built on.} technology which allows for versioning of files and is used to store your publication. 


The system has options to use GitLab CE, GitLab.com, or GitHub. GitLab can be used as \href{GitLab.com}{GitLab.com} or as a self-hosted instance for public and private publications, or for staging publications for later transfer to another hosted system, either GitHub or GitLab.com. We use GitLab Community Edition (GitLab CE) for self-hosting which is open-source software. GitHub is not open-source but is useful for publication distribution and visibility.

\begin{figure}
\scaledgraphics{690aad43-615e-4dee-bc82-c46c7c86bd8d.png}{1}
\caption*{Photo 3: Git logos - Git; GitLab, and; GitHub}\label{F88034391}
\end{figure}


\subsection{Step-by-step guide}\label{H1473428}



These instructions are for using GitHub. The principles are the same for GitLab.


These steps will allow you to create a repository to for your publication with the option for website creation using Git (Hub/Lab) Pages.


\subsubsection{Create a repo}\label{H2479402}



To make your repo we'll use a Template Repository.


You will create a repo which will be prepopulated from the Template Repository for you to later add your publication content. The template repo contains components for creating the website and providing links to the other publication formats which will be displayed as links on the website.


There will be a number of templates to use, and your publication manager can tell you which one to use. As an example here is one on GitHub from the \href{https://github.com/TIBHannover/ADA-Book-Template}{ADA Pipeline} which is maintained by the German National Library of Science and Technology (TIB).


Navigate to the template repo link and click the green button 'Use this template'.

\begin{figure}
\scaledgraphics{0ce6c9ea-6817-4c0d-b56b-93b0dcd88ac8.png}{1}
\caption*{Photo 4: Example template repository. Use template repo to prepopulate your publication repo}\label{F25312281}
\end{figure}


Then choose \textbf{where you will make the new repo} and \textbf{its name}. Once chosen click 'Create repository from this template'.

\begin{figure}
\scaledgraphics{e61a310c-a521-4f60-81ba-bdfacba7ef99.png}{1}
\caption*{Photo 5: Set owner (location), name, and description. Then save}\label{F25227021}
\end{figure}


\textbf{Where to save your repo?} In GitHub, you can save repos with organizations or in your personal account, select this under the field labelled 'Owner'.


\textbf{How to name your repo?} The name of the repo will be its display name and URL address. It is good practice to adopt a naming convention style to be inline with other publications, this might be a short title, or even an acronym. Note it is good practice to use only lowercase in the name as the URL is case-sensitive. Names can be changed at any time, but it will change any associated URLs.


\textbf{Note:} Repo names can be changed at any time, but this will change the website URL to be the new name, and you must remember to update the URL in other places where you have used the URL address. 


\textbf{Other settings:} You can give the repo a description; make the repo public is the default, and then click green button to save.


Congratulations you have now created your repo and have a location to store your publication.


\subsubsection{Create a GitHub/Lab Pages website}\label{H9225084}



GitHub has a service called GitHub Pages. This creates free websites on the domain github.io, or you can use your own custom domain. The default URL address pattern is https://organisation-name.github.io/publication-name/. The content from your repo will be available on the website at the URL specified. 


\textbf{Note:} Websites can be given custom domain names. You will need to consult GitHub documentation to enable this feature.


This is a two part process.


\subsubsection{Part 1: Turn on GitHub/Lab Pages website creation}\label{H383599}


\begin{figure}
\scaledgraphics{3e552a2e-0e2d-44ee-94bc-1cbf5b95f7f5.png}{1}
\caption*{Photo 6: Turn on pages. Visit Settings tab; Pages left menu item; set to main and root}\label{F62609231}
\end{figure}


Navigate to 'Settings' in the top horizontal tab options. In settings on the left menu select 'Pages'. In the dialogue in the main page use the following settings: Select branch \textbf{- main}; select folder \textbf{- root}, and; click save. This will complete the site creation and give you a URL for your website. Copy the URL and you can then use it to add address to front end of the repo.

\begin{figure}
\scaledgraphics{e77abf83-c7b9-403e-90f1-b338acca85d2.png}{1}
\caption*{Photo 7: Copy the repo name from the top of the page. The name can take a little time to appear}\label{F80988211}
\end{figure}


To paste the site name into the front end of your repo first go to the front end of the repo by clicking code in the left-hand side of your repo's horizontal tabs. To the right click the cog next to About and in here you can paste in the URL and save.

\begin{figure}
\scaledgraphics{f5f93795-0b20-494b-b3e7-4818c0b3c984.png}{1}
\caption*{Photo 8: You can add publication name and URL address into info box, and it will then appear on front end of repo}\label{F81086261}
\end{figure}


You will now have a website and the address appears top right.

\begin{figure}
\scaledgraphics{f8888333-30f3-4d05-bc20-184f811179e6.png}{1}
\caption*{Photo 9: After inputted the name and URL address will appear top right}\label{F34176371}
\end{figure}


Your website will look like this. Currently, the site will contain benchmark content to demonstrate that layout features are working correctly. This content will be replaced once you output your publication.

\begin{figure}
\scaledgraphics{a02a6e92-a533-45d3-a0cd-8cc9019ac1d2.png}{1}
\caption*{Photo 10: To start with your website will have benchmark test content in it from the template. Later when you output from Fidus this will be overwritten}\label{F92674301}
\end{figure}


\subsubsection{Part 2: Display multi-format content to GitHub/Lab Pages}\label{H6708807}



To enable the Paginated Web version of your publication the repo address needs to be added to the \emph{\textbf{setup.json}} file in the top level of your repo.

\begin{figure}
\scaledgraphics{937e8cc0-b575-4ebe-acc3-4faf51c83ced.png}{1}
\caption*{Photo 11: Locate the file \textbf{setup.json} in your repos top level. Then click on it to view and edit}\label{F60164421}
\end{figure}


Edit the file setup.json and \textbf{add in the organization name and repo name into line 3} and save at the bottom of the page, \textbf{"repoURL"}: "https://github.com/organisation-name/publication-name/".

\begin{figure}
\scaledgraphics{8e9e4c18-b941-4173-b655-fe716a42a060.png}{1}
\caption*{Photo 12: To edit click the pencil icon top right. Then edit line 3 and change to your repo address}\label{F45407401}
\end{figure}


All steps in your Git setup are now complete.


\subsection{Step 1 completion: What's next?}\label{H4342812}



Now that you have your repo and website setup, next you will set up a book project in Fidus Writer and connect it to your Git repo, this will allow you to output book files from Fidus Writer to Git.

\end{document}
